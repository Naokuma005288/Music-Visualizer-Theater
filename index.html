<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>Omni Visual Player</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="app" id="app">
      <!-- Splash -->
      <div class="splash" id="splash">
        <div class="splash-inner">
          <div class="splash-orbit"></div>
          <div class="splash-logo">OV</div>
          <p class="splash-title">Omni Visual Player</p>
          <p class="splash-sub">
            Audio / MP4 Reactive Visualizer (16:9 Frame)
          </p>
          <div class="splash-tags">
            <span>Beat-like Reactive</span>
            <span>MP3 / MP4</span>
            <span>Mobile Ready</span>
          </div>
          <button class="splash-button" id="splashBtn">Start</button>
        </div>
      </div>

      <!-- Header -->
      <header class="app-header">
        <div class="app-title">Omni Visual Player</div>
        <div class="header-right">
          <label class="theme-label">
            <input type="checkbox" id="themeToggle" />
            <span>Neon</span>
          </label>
          <button
            class="icon-button"
            id="btnAmbient"
            title="Ambient (UIÈö†„Åó)"
          >
            üåå
          </button>
        </div>
      </header>

      <!-- Controls -->
      <section class="controls">
        <div class="control-group">
          <label class="file-label">
            „Éï„Ç°„Ç§„É´„ÇíÈÅ∏Êäû
            <input
              type="file"
              id="fileInput"
              multiple
              accept="audio/*,video/mp4,video/webm"
            />
          </label>

          <button
            class="icon-button"
            id="btnPrev"
            title="Ââç„ÅÆ„Éà„É©„ÉÉ„ÇØ"
          >
            ‚èÆ
          </button>
          <button
            class="icon-button"
            id="btnPlayPause"
            title="ÂÜçÁîü / ‰∏ÄÊôÇÂÅúÊ≠¢"
          >
            ‚ñ∂
          </button>
          <button
            class="icon-button"
            id="btnNext"
            title="Ê¨°„ÅÆ„Éà„É©„ÉÉ„ÇØ"
          >
            ‚è≠
          </button>

          <button
            class="icon-button"
            id="btnPlaylistToggle"
            title="„Éó„É¨„Ç§„É™„Çπ„Éà"
          >
            üìú
          </button>
        </div>

        <div class="control-group timeline-group">
          <span class="time-label" id="currentTimeLabel">00:00</span>
          <input type="range" id="seekBar" min="0" max="1000" value="0" />
          <span class="time-label" id="durationLabel">00:00</span>
        </div>

        <div class="control-group">
          <label class="slider-label">
            Vol
            <input
              type="range"
              id="volumeSlider"
              min="0"
              max="100"
              value="80"
            />
          </label>

          <label class="slider-label">
            Sens
            <input
              type="range"
              id="sensitivitySlider"
              min="50"
              max="200"
              value="100"
            />
          </label>

          <label class="mode-label">
            Mode
            <select id="modeSelect">
              <option value="bars">Bars</option>
              <option value="circle">Circle</option>
              <option value="wave">Wave</option>
            </select>
          </label>

          <label class="slider-label">
            Speed
            <input
              type="range"
              id="rateSlider"
              min="50"
              max="150"
              value="100"
            />
          </label>
        </div>

        <div class="control-group">
          <button class="mini-btn" id="btnSetA">A</button>
          <button class="mini-btn" id="btnSetB">B</button>
          <button class="mini-btn" id="btnToggleAB">A-B</button>
        </div>
      </section>

      <!-- Visualizer + Playlist -->
      <main class="visualizer-container">
        <div class="visualizer-frame">
          <div class="bg-video-wrapper">
            <!-- „Åì„Åì„Å´ÈªíÂ∏Ø‰ªò„Åç„ÅßÂãïÁîª„ÇíË°®Á§∫Ôºà16:9Êû†„ÅÆ‰∏≠„Å´ containÔºâ -->
            <video
              id="bgVideo"
              class="bg-video"
              muted
              loop
              playsinline
            ></video>
          </div>
          <!-- ‰∏ä„Åã„Çâ„Éì„Ç∏„É•„Ç¢„É©„Ç§„Ç∂„Éº„ÇíÈáç„Å≠„Çã -->
          <canvas id="visualizer"></canvas>
        </div>

        <aside class="playlist-panel" id="playlistPanel">
          <div class="playlist-header">
            <span class="playlist-title">PLAYLIST</span>
            <button
              class="icon-button small"
              id="btnPlaylistClose"
              title="Èñâ„Åò„Çã"
            >
              ‚úï
            </button>
          </div>
          <ul class="playlist-list" id="playlistList"></ul>
        </aside>
      </main>

      <!-- Footer -->
      <footer class="app-footer">
        <div class="status-text" id="statusText">
          „Éï„Ç°„Ç§„É´„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì
        </div>
        <div class="footer-right">
          <span class="fps-text" id="fpsText">FPS: --</span>
        </div>
      </footer>
    </div>

    <!-- Scripts -->
    <script src="js/audioEngine.js"></script>
    <script src="js/visualizer.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
